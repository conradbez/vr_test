
<!DOCTYPE html>
<html>
  <head>
    <title>Vectary's Model API Quick start</title>
    <meta charset="UTF-8" />
  </head>

  <body>
<script type="module">
    import { VctrModelApi } from "https://www.vectary.com/studio-lite/scripts/api.js";
    var modelApi = new VctrModelApi("goggles_model");
    await modelApi.init();
    setInterval(async () => {        
        await modelApi.dispatchEvent("api_line_1", `${await getData('api_line_1')}`);
        await modelApi.dispatchEvent("api_line_2", `${await getData('api_line_2')}`);
        await modelApi.dispatchEvent("api_line_3", `${await getData('api_line_3')}`);
    }, 1000); 
  
    console.log(modelApi)
  </script>

  <script src="https://cdn.jsdelivr.net/npm/public-google-sheets-parser@latest"></script>
  <script>
    async function getData(col){
        const options = { sheetName: 'Sheet1', useFormat: true }
        const parser = new PublicGoogleSheetsParser('1AeKW-TiHGJFpb3ZwD3PKMbmRe0_3n1tthQ9KXRqSvaI', options)
        let r = await parser.parse()
        console.log(r)
        return r[0][col]
    }
  </script>
  <iframe
  id="goggles_model"
  src="https://app.vectary.com/p/30OkE4XHKhXQIpdHxoIefQ/"
  frameborder="0"
  width="100%"
  height="480"
></iframe>

<script type="module">
  import { VctrModelApi } from "https://app.vectary.com/studio-lite/scripts/api.js";
  const modelApi = new VctrModelApi("goggles_model");
  await modelApi.init();

  
</script>
</body>
</html>

